
@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/_MasterPageSitie.cshtml";
}

<div class="row">
    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
        <h3>Nuevo Gasto</h3>
    </div>
</div>

@using (Html.BeginForm("AddTransaction", "Transactions", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, null, new { @class = "form-horizontal", role = "form" }))
{
    <div class="form-group row">
        <label for="colFormLabel" class="col-sm-2 col-form-label">Fecha</label>
        <div class="col-sm-5">
            <input type="date" id="idInputDate" name="nInputDate" value="@DateTime.Now.ToString("yyyyy-MM-dd")" class="form-control">
        </div>
    </div>
    
    <div class="form-group row">
        <label for="colFormLabel" class="col-sm-2 col-form-label">Concepto</label>
        <div class="col-sm-5">
            <select name="nSelectConcept" class="custom-select">
                @foreach (var item in Model.Concepts)
                {
                    <option value="@item.Id">@item.Name</option>
                }
            </select>
        </div>
    </div>
    
    <div class="form-group row mb-4">
        <label for="colFormLabel" class="col-sm-2 col-form-label">Monto</label>
        <div class="col-sm-5">
            <input type="number" class="form-control" id="idInputAmount" name="nInputAmount">
        </div>
    </div>

    <div class="form-group row">
        <button type="button" class="btn btn-secondary mr-4">Cerrar</button>
        <button type="submit" class="btn btn-primary">Guardar</button>
    </div>
}

<script type="text/javascript">
    $(document).ready(function () {
        $('form').submit(function () {
            var amount = $("#idInputAmount").val()
            if (amount == "" || isNaN(amount)){
                $("#idInputAmount").val("");
                alert("Debe ingresar un monto numérico");
                return false;
            }
        });
    });
</script>